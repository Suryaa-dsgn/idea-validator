<!DOCTYPE html>
<html>
<head>
  <title>API Test</title>
  <script>
    async function testRegister() {
      const userData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        password: document.getElementById('password').value,
        company: document.getElementById('company').value
      };
      
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = "Testing...";
      
      try {
        // First try with /api/auth/register
        const response = await fetch('https://idea-validator-backend.onrender.com/api/auth/register', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(userData)
        });
        
        const data = await response.text();
        resultDiv.innerHTML = `Response: ${response.status} ${response.statusText}<br>Data: ${data}`;
      } catch (error) {
        resultDiv.innerHTML = `Error: ${error.message}`;
        
        // If the first attempt fails, try without /api prefix
        try {
          resultDiv.innerHTML += "<br><br>Trying alternate endpoint...";
          const response2 = await fetch('https://idea-validator-backend.onrender.com/auth/register', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(userData)
          });
          
          const data2 = await response2.text();
          resultDiv.innerHTML += `<br>Response: ${response2.status} ${response2.statusText}<br>Data: ${data2}`;
        } catch (error2) {
          resultDiv.innerHTML += `<br>Error: ${error2.message}`;
        }
      }
    }
  </script>
</head>
<body>
  <h1>Test API Register Endpoint</h1>
  <form onsubmit="testRegister(); return false;">
    <div>
      <label for="name">Name:</label>
      <input type="text" id="name" value="Test User" />
    </div>
    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" value="test@example.com" />
    </div>
    <div>
      <label for="password">Password:</label>
      <input type="password" id="password" value="password123" />
    </div>
    <div>
      <label for="company">Company:</label>
      <input type="text" id="company" value="Test Company" />
    </div>
    <button type="submit">Test Register</button>
  </form>
  <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>
</body>
</html> 